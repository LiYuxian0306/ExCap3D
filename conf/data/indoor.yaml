# @package _group_
#数据处理
# these parameters are inherited by datasets, data_loaders and collators
# but they might be overwritten

# splits
train_mode: train
validation_mode: validation
test_mode: test # test  # validation

# dataset
ignore_label: 255
add_raw_coordinates: true # 3dim 是否包含原始坐标
add_colors: true # 3dim 是否包含RGB颜色
add_normals: false # 3dim

#### NEW: other extra feats on points ####
extra_feats_dir:    #额外特征的文件夹路径
extra_feats_dim:    #额外特征的dimension
###################################

in_channels: 3 * (add_normals + add_colors + add_raw_coordinates) + extra_feats_dim)
# num_labels: 语义类别数量
#   - ScanNet (scannet.yaml): 20类
#   - ScanNet200 (scannet200.yaml): 200类
#   - ScanNetPP (scannetpp_simple.yaml): 由 semantic_classes_file 定义（通常 ~100）
#   
# 【重要】对于 ScanNetPP，此值会在 main_instance_segmentation.py 中被动态覆盖
# 若未提供 semantic_classes_file，则使用此默认值
num_labels: 100  # ScanNetPP 的默认值（替代 20，更接近实际）
# num_labels: 41
add_instance: ${general.add_instance}
task: ${general.task}
subset: null
data_dir: null
train_list_file: null
val_list_file: null
# if specified, dataset loads captions for each scene, for any objects that have captions
caption_data_dir: null   

# data loader
pin_memory: false
num_workers: 4
batch_size: 1
test_batch_size: 1
cache_data: false

# collation 体素化
voxel_size: 0.06
overfit: false
overfit_n_instances: null
overfit_instance_ids: null

reps_per_epoch: ${general.reps_per_epoch}

cropping: false
cropping_args:
  min_points: 30000
  aspect: 0.8
  min_crop: 0.5
  max_crop: 1.0

crop_min_size: 20000
crop_length: 6.0
cropping_v1: true

semantic_classes_file: /home/kylin/datasets/scannetpp_v2/scannetpp/metadata/semantic_benchmark/top100.txt
instance_classes_file: /home/kylin/datasets/scannetpp_v2/scannetpp/metadata/semantic_benchmark/top100_instance.txt

# scannet - use the otherprop and otherstructure classes for training and evaluation
scannet_use_others_class: false